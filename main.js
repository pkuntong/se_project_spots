!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},t=(e,t,r)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(r.inputErrorClass)},r=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},n=(e,t,n)=>{(e=>e.some((e=>!e.validity.valid)))(e)?r(t,n):(t.disabled=!1,t.classList.remove(n.inactiveButtonClass))};function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Saving...";t.textContent=e?n:r}function a(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Saving...";t.preventDefault();const n=t.submitter,a=n.textContent;o(!0,n,a,r),e().then((()=>{t.target.reset()})).catch(console.error).finally((()=>{o(!1,n,a)}))}const s=new class{constructor(e){let{baseUrl:t,headers:r}=e;this._baseUrl=t,this._headers=r}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}checkResponse(e){return e.ok?e.json():Promise.reject(`Error ${e.status}`)}request(e,t){return fetch(e,t).then(this.checkResponse)}getInitialCards(){return this.request(`${this._baseUrl}/cards`,{headers:this._headers})}getUserInfo(){return this.request(`${this._baseUrl}/users/me`,{headers:this._headers})}editUserInfo(e){let{name:t,about:r}=e;return this.request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r})})}editAvatarInfo(e){return this.request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}addCard(e){let{name:t,link:r}=e;return this.request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})})}deleteCard(e){return this.request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}changeLikeStatus(e,t){return this.request(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"8821c207-7c9b-4450-ae25-85456081faad","Content-Type":"application/json"}});function i(e){e.target===e.currentTarget&&c(e.currentTarget)}function d(e){"Escape"===e.key&&c(document.querySelector(".modal_opened"))}function l(e){e.classList.add("modal_opened"),document.addEventListener("keydown",d),e.addEventListener("mousedown",i)}function c(e){e&&(e.classList.remove("modal_opened"),document.removeEventListener("keydown",d),e.removeEventListener("mousedown",i))}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";const r=function(e,t){const r=t.querySelector(".card").cloneNode(!0),n=r.querySelector(".card__title"),o=r.querySelector(".card__image"),a=r.querySelector(".card__like-btn"),s=r.querySelector(".card__delete-btn");return n.textContent=e.name,o.src=e.link,o.alt=e.name,e.isLiked&&a.classList.add("card__like-btn_liked"),a.addEventListener("click",(t=>handleLike(t,e._id))),s.addEventListener("click",(()=>handleDeleteCard(r,e._id))),o.addEventListener("click",(()=>handleImageClick(e))),r}(e,arguments.length>2?arguments[2]:void 0);r&&cardsList[t](r)}function m(t){t.preventDefault(),a((function(){return s.editAvatarInfo(avatarInput.value).then((t=>{profileImage.src=t.avatar,r(avatarSubmitButton,e),c(avatarModal)}))}),t)}function h(e){e.preventDefault(),a((function(){return s.editUserInfo({name:nameInput.value,about:descriptionInput.value}).then((e=>{profileName.textContent=e.name,profileDescription.textContent=e.about,c(editProfileModal)}))}),e)}function v(t){t.preventDefault(),a((function(){return s.addCard({name:titleInput.value,link:imageInput.value}).then((t=>{u(t,"prepend",cardTemplate),r(cardSubmitButton,e),c(cardModal)}))}),t)}function _(e){e.preventDefault(),a((function(){return s.deleteCard(void 0).then((()=>{(void 0).remove(),c(deleteModal)}))}),e,"Deleting...")}document.addEventListener("DOMContentLoaded",(()=>{const r=document.querySelectorAll(".modal__close-btn"),o=document.querySelector("#card-template")?.content,a=document.querySelector(".cards__list");if(console.log("Card template:",o),!o)return void console.error("Error: Card template not found.");const i=document.querySelector(".profile__avatar"),d=document.querySelector(".profile__name"),p=document.querySelector(".profile__description");s.getAppInfo().then((e=>{let[t,r]=e;console.log("Fetched cards:",t),0===t.length?(console.log("No cards available"),a.innerHTML="<p>No cards to display.</p>"):(t.reverse(),t.forEach((e=>{u(e,"prepend",o)}))),i.src=r.avatar,d.textContent=r.name,p.textContent=r.about})).catch(console.error),r.forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(()=>c(t)))}));const f=document.querySelector(".profile__avatar-btn"),y=document.querySelector("#avatar-modal"),S=y.querySelector("#edit-avatar-form");f.addEventListener("click",(()=>l(y))),S.addEventListener("submit",m);const b=document.querySelector(".profile__edit-btn"),q=document.querySelector("#edit-modal"),E=q.querySelector("#edit-profile-form"),g=q.querySelector("#profile-name-input"),L=q.querySelector("#profile-description-input");b.addEventListener("click",(()=>{var r,n;g.value=d.textContent,L.value=p.textContent,r=E,n=e,[g,L].forEach((e=>{t(r,e,n)})),l(q)})),E.addEventListener("submit",h);const C=document.querySelector(".profile__add-btn"),k=document.querySelector("#card-modal"),I=k.querySelector("#card-form");C.addEventListener("click",(()=>l(k))),I.addEventListener("submit",v);const U=document.querySelector("#delete-modal"),$=U.querySelector(".modal__form"),x=U.querySelector(".modal__submit-btn_type_cancel");var D;$.addEventListener("submit",_),x.addEventListener("click",(()=>c(U))),D=e,document.querySelectorAll(D.formSelector).forEach((e=>{((e,r)=>{const o=Array.from(e.querySelectorAll(r.inputSelector)),a=e.querySelector(r.submitButtonSelector);console.log(o),console.log(a),n(o,a,r),o.forEach((s=>{s.addEventListener("input",(function(){((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{const o=e.querySelector(`#${t.id}-error`);t.classList.add(n.inputErrorClass),o.textContent=r})(e,r,r.validationMessage,n)})(e,s,r),n(o,a,r)}))}))})(e,D)}))}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxHQUV6QyxNQUFNUyxFQUFjOUMsU0FBU2pGLGNBQWMsaUJBQ3JDb0osRUFBYXJCLEVBQVkvSCxjQUFjLGdCQUN2Q3FKLEVBQXFCdEIsRUFBWS9ILGNBQWMsa0NGaklwQkQsTUVrSWpDcUosRUFBV2hFLGlCQUFpQixTQUFVd0MsR0FDdEN5QixFQUFtQmpFLGlCQUFpQixTQUFTLElBQU1OLEVBQVdpRCxLRm5JN0JoSSxFRXNJaEJWLEVGcklFNEYsU0FBU2dELGlCQUFpQmxJLEVBQU9ULGNBQ3pDa0osU0FBUzNJLElBckJNeUosRUFBQ3pKLEVBQWFFLEtBQ3RDLE1BQU1XLEVBQVk2SSxNQUFNQyxLQUN0QjNKLEVBQVlvSSxpQkFBaUJsSSxFQUFPUixnQkFFaENlLEVBQWdCVCxFQUFZRyxjQUFjRCxFQUFPUCxzQkFFdkQwQyxRQUFRaUcsSUFBSXpILEdBQ1p3QixRQUFRaUcsSUFBSTdILEdBRVpHLEVBQWtCQyxFQUFXSixFQUFlUCxHQUU1Q1csRUFBVThILFNBQVMxSSxJQUNqQkEsRUFBYXNGLGlCQUFpQixTQUFTLFdBbkRoQnFFLEVBQUM1SixFQUFhQyxFQUFjQyxLQUNoREQsRUFBYWMsU0FBU0MsTUFRekJqQixFQUFlQyxFQUFhQyxFQUFjQyxHQXJCdkIySixFQUFDN0osRUFBYUMsRUFBYzZKLEVBQWM1SixLQUMvRCxNQUFNNkosRUFBZS9KLEVBQVlHLGNBQWMsSUFBSUYsRUFBYUcsWUFDaEVILEVBQWFLLFVBQVVLLElBQUlULEVBQU9MLGlCQUNsQ2tLLEVBQWExSixZQUFjeUosQ0FBWSxFQVdyQ0QsQ0FDRTdKLEVBQ0FDLEVBQ0FBLEVBQWErSixrQkFDYjlKLEVBSUosRUEwQ0kwSixDQUFtQjVKLEVBQWFDLEVBQWNDLEdBQzlDVSxFQUFrQkMsRUFBV0osRUFBZVAsRUFDOUMsR0FBRSxHQUNGLEVBTUF1SixDQUFrQnpKLEVBQWFFLEVBQU8sR0VtSWhCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XG4gICAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICAgIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ0blwiLFxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idG5faW5hY3RpdmVcIixcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxuICB9O1xuICBcbiAgY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlLCBjb25maWcpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICB9O1xuICBcbiAgY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gIH07XG4gIFxuICBjb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHNob3dJbnB1dEVycm9yKFxuICAgICAgICBmb3JtRWxlbWVudCxcbiAgICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UsXG4gICAgICAgIGNvbmZpZ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgICB9XG4gIH07XG4gIFxuICBjb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuICBcbiAgZXhwb3J0IGNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfTtcbiAgXG4gIGNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XG4gICAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfVxuICB9O1xuICBcbiAgZXhwb3J0IGNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWxlbWVudCwgaW5wdXRMaXN0LCBjb25maWcpID0+IHtcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dCwgY29uZmlnKTtcbiAgICB9KTtcbiAgfTtcbiAgXG4gIGNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50LCBjb25maWcpID0+IHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIFxuICAgIGNvbnNvbGUubG9nKGlucHV0TGlzdCk7XG4gICAgY29uc29sZS5sb2coYnV0dG9uRWxlbWVudCk7XG4gIFxuICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICAgICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgXG4gIGV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICAgIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcbiAgICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQsIGNvbmZpZyk7XG4gICAgfSk7XG4gIH07XG4gICIsImV4cG9ydCBmdW5jdGlvbiByZW5kZXJMb2FkaW5nKFxuICAgIGlzTG9hZGluZyxcbiAgICBidG4sXG4gICAgZGVmYXVsdFRleHQgPSBcIlNhdmVcIixcbiAgICBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCJcbiAgKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgYnRuLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGRlZmF1bHRUZXh0O1xuICAgIH1cbiAgfVxuICBcbiAgZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChyZXF1ZXN0LCBldnQsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBcbiAgICBjb25zdCBzdWJtaXRCdG4gPSBldnQuc3VibWl0dGVyO1xuICAgIGNvbnN0IGluaXRpYWxUZXh0ID0gc3VibWl0QnRuLnRleHRDb250ZW50O1xuICBcbiAgICByZW5kZXJMb2FkaW5nKHRydWUsIHN1Ym1pdEJ0biwgaW5pdGlhbFRleHQsIGxvYWRpbmdUZXh0KTtcbiAgXG4gICAgcmVxdWVzdCgpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGV2dC50YXJnZXQucmVzZXQoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcmVuZGVyTG9hZGluZyhmYWxzZSwgc3VibWl0QnRuLCBpbml0aWFsVGV4dCk7XG4gICAgICB9KTtcbiAgfVxuICAiLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IHtcbiAgZW5hYmxlVmFsaWRhdGlvbixcbiAgc2V0dGluZ3MsXG4gIHJlc2V0VmFsaWRhdGlvbixcbiAgZGlzYWJsZUJ1dHRvbixcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlU3VibWl0IH0gZnJvbSBcIi4uL3V0aWxzL2hlbHBlcnNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuXG5sZXQgc2VsZWN0ZWRDYXJkLCBzZWxlY3RlZENhcmRJZDtcblxuLy8gQVBJIHNldHVwXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI4ODIxYzIwNy03YzliLTQ0NTAtYWUyNS04NTQ1NjA4MWZhYWRcIiwgLy8gRW5zdXJlIHRoaXMgaXMgYSB2YWxpZCB0b2tlblxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vIEZ1bmN0aW9ucyB0byBoYW5kbGUgbW9kYWxzXG5mdW5jdGlvbiBjbG9zZU1vZGFsT3ZlcmxheShldnQpIHtcbiAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgY2xvc2VNb2RhbChldnQuY3VycmVudFRhcmdldCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvc2VNb2RhbEVzYyhldnQpIHtcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBjb25zdCBtb2RhbE9wZW5lZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfb3BlbmVkXCIpO1xuICAgIGNsb3NlTW9kYWwobW9kYWxPcGVuZWQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZU1vZGFsRXNjKTtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBjbG9zZU1vZGFsT3ZlcmxheSk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgaWYgKG1vZGFsKSB7XG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZU1vZGFsRXNjKTtcbiAgICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGNsb3NlTW9kYWxPdmVybGF5KTtcbiAgfVxufVxuXG4vLyBGdW5jdGlvbiB0byBjcmVhdGUgYSBjYXJkIGVsZW1lbnQgZnJvbSB0aGUgdGVtcGxhdGVcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEsIGNhcmRUZW1wbGF0ZSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xuICBjb25zdCBjYXJkTmFtZUVsZW1lbnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICBjb25zdCBjYXJkSW1hZ2VFbGVtZW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgY29uc3QgY2FyZExpa2VCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnRuXCIpO1xuICBjb25zdCBjYXJkRGVsZXRlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnRuXCIpO1xuXG4gIGNhcmROYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgY2FyZEltYWdlRWxlbWVudC5zcmMgPSBkYXRhLmxpbms7XG4gIGNhcmRJbWFnZUVsZW1lbnQuYWx0ID0gZGF0YS5uYW1lO1xuXG4gIGlmIChkYXRhLmlzTGlrZWQpIHtcbiAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XG4gIH1cblxuICBjYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4gaGFuZGxlTGlrZShldnQsIGRhdGEuX2lkKSk7XG4gIGNhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGRhdGEuX2lkKSk7XG4gIGNhcmRJbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGhhbmRsZUltYWdlQ2xpY2soZGF0YSkpO1xuXG4gIHJldHVybiBjYXJkRWxlbWVudDsgLy8gUmV0dXJuIHRoZSBjcmVhdGVkIGNhcmQgZWxlbWVudFxufVxuXG4vLyBGdW5jdGlvbiB0byByZW5kZXIgYSBjYXJkXG5mdW5jdGlvbiByZW5kZXJDYXJkKGl0ZW0sIG1ldGhvZCA9IFwicHJlcGVuZFwiLCBjYXJkVGVtcGxhdGUpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpdGVtLCBjYXJkVGVtcGxhdGUpOyAvLyBQYXNzIGNhcmRUZW1wbGF0ZVxuICBpZiAoY2FyZEVsZW1lbnQpIHtcbiAgICBjYXJkc0xpc3RbbWV0aG9kXShjYXJkRWxlbWVudCk7IC8vIEFwcGVuZCB0aGUgY2FyZCB0byB0aGUgY2FyZHMgbGlzdFxuICB9XG59XG5cbi8vIEV2ZW50IGhhbmRsZXJzIGZvciBhdmF0YXIgc3VibWlzc2lvbiwgcHJvZmlsZSBzdWJtaXNzaW9uLCBhZGRpbmcgY2FyZCwgYW5kIGRlbGV0aW5nIGNhcmRcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgZGVmYXVsdCBmb3JtIHN1Ym1pc3Npb25cbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIGFwaS5lZGl0QXZhdGFySW5mbyhhdmF0YXJJbnB1dC52YWx1ZSkudGhlbigoYXZhdGFyRGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZUltYWdlLnNyYyA9IGF2YXRhckRhdGEuYXZhdGFyOyAvLyBVcGRhdGUgdGhlIHByb2ZpbGUgaW1hZ2VcbiAgICAgIGRpc2FibGVCdXR0b24oYXZhdGFyU3VibWl0QnV0dG9uLCBzZXR0aW5ncyk7IC8vIERpc2FibGUgYnV0dG9uIGlmIG5lZWRlZFxuICAgICAgY2xvc2VNb2RhbChhdmF0YXJNb2RhbCk7IC8vIENsb3NlIHRoZSBtb2RhbCBhZnRlciBzdWJtaXNzaW9uXG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBldnQpOyAvLyBDYWxsIGhhbmRsZVN1Ym1pdFxufVxuXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZVN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgZGVmYXVsdCBmb3JtIHN1Ym1pc3Npb25cbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIGFwaS5lZGl0VXNlckluZm8oe1xuICAgICAgbmFtZTogbmFtZUlucHV0LnZhbHVlLFxuICAgICAgYWJvdXQ6IGRlc2NyaXB0aW9uSW5wdXQudmFsdWUsXG4gICAgfSkudGhlbigodXNlckRhdGEpID0+IHtcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlckRhdGEubmFtZTsgLy8gVXBkYXRlIHByb2ZpbGUgbmFtZVxuICAgICAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdXNlckRhdGEuYWJvdXQ7IC8vIFVwZGF0ZSBwcm9maWxlIGRlc2NyaXB0aW9uXG4gICAgICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpOyAvLyBDbG9zZSB0aGUgbW9kYWwgYWZ0ZXIgc3VibWlzc2lvblxuICAgIH0pO1xuICB9XG4gIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgZXZ0KTsgLy8gQ2FsbCBoYW5kbGVTdWJtaXRcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgZGVmYXVsdCBmb3JtIHN1Ym1pc3Npb25cbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIGFwaS5hZGRDYXJkKHtcbiAgICAgIG5hbWU6IHRpdGxlSW5wdXQudmFsdWUsXG4gICAgICBsaW5rOiBpbWFnZUlucHV0LnZhbHVlLFxuICAgIH0pLnRoZW4oKGNhcmREYXRhKSA9PiB7XG4gICAgICByZW5kZXJDYXJkKGNhcmREYXRhLCBcInByZXBlbmRcIiwgY2FyZFRlbXBsYXRlKTsgLy8gUGFzcyBjYXJkVGVtcGxhdGVcbiAgICAgIGRpc2FibGVCdXR0b24oY2FyZFN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpOyAvLyBEaXNhYmxlIGJ1dHRvbiBpZiBuZWVkZWRcbiAgICAgIGNsb3NlTW9kYWwoY2FyZE1vZGFsKTsgLy8gQ2xvc2UgdGhlIG1vZGFsIGFmdGVyIHN1Ym1pc3Npb25cbiAgICB9KTtcbiAgfVxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGV2dCk7IC8vIENhbGwgaGFuZGxlU3VibWl0XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmRTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IGRlZmF1bHQgZm9ybSBzdWJtaXNzaW9uXG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGkuZGVsZXRlQ2FyZChzZWxlY3RlZENhcmRJZCkudGhlbigoKSA9PiB7XG4gICAgICBzZWxlY3RlZENhcmQucmVtb3ZlKCk7IC8vIFJlbW92ZSB0aGUgY2FyZCBmcm9tIHRoZSBET01cbiAgICAgIGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpOyAvLyBDbG9zZSB0aGUgZGVsZXRlIG1vZGFsXG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBldnQsIFwiRGVsZXRpbmcuLi5cIik7IC8vIENhbGwgaGFuZGxlU3VibWl0XG59XG5cbi8vIERPTSBSZWFkeVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICBjb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XG4gIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKT8uY29udGVudDsgLy8gQWNjZXNzIHRlbXBsYXRlIGhlcmVcbiAgY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcblxuICAvLyBMb2cgdGhlIGNhcmQgdGVtcGxhdGUgdG8gY2hlY2sgaWYgaXQncyBmb3VuZFxuICBjb25zb2xlLmxvZyhcIkNhcmQgdGVtcGxhdGU6XCIsIGNhcmRUZW1wbGF0ZSk7IFxuXG4gIC8vIEVuc3VyZSB0aGUgY2FyZFRlbXBsYXRlIGV4aXN0cyBiZWZvcmUgcHJvY2VlZGluZ1xuICBpZiAoIWNhcmRUZW1wbGF0ZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjogQ2FyZCB0ZW1wbGF0ZSBub3QgZm91bmQuXCIpO1xuICAgIHJldHVybjsgLy8gU3RvcCBleGVjdXRpb24gaWYgdGVtcGxhdGUgaXMgbm90IGZvdW5kXG4gIH1cblxuICAvLyBQcm9maWxlIGVsZW1lbnRzXG4gIGNvbnN0IHByb2ZpbGVJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuICBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbiAgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcblxuICAvLyBGZXRjaCB1c2VyIGluZm8gYW5kIGNhcmRzIHdoZW4gdGhlIERPTSBpcyBsb2FkZWRcbiAgYXBpLmdldEFwcEluZm8oKS50aGVuKChbY2FyZHMsIHVzZXJzXSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiRmV0Y2hlZCBjYXJkczpcIiwgY2FyZHMpOyAvLyBMb2cgZmV0Y2hlZCBjYXJkc1xuXG4gICAgaWYgKGNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coXCJObyBjYXJkcyBhdmFpbGFibGVcIik7XG4gICAgICBjYXJkc0xpc3QuaW5uZXJIVE1MID0gXCI8cD5ObyBjYXJkcyB0byBkaXNwbGF5LjwvcD5cIjsgLy8gRGlzcGxheSBtZXNzYWdlIGlmIG5vIGNhcmRzXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhcmRzLnJldmVyc2UoKTtcbiAgICAgIGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgcmVuZGVyQ2FyZChjYXJkLCBcInByZXBlbmRcIiwgY2FyZFRlbXBsYXRlKTsgLy8gUGFzcyBjYXJkVGVtcGxhdGVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNldCB1c2VyIHByb2ZpbGUgaW5mb1xuICAgIHByb2ZpbGVJbWFnZS5zcmMgPSB1c2Vycy5hdmF0YXI7XG4gICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSB1c2Vycy5uYW1lO1xuICAgIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHVzZXJzLmFib3V0O1xuICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuICAvLyBDbG9zZSBidXR0b24gZXZlbnQgbGlzdGVuZXJzXG4gIGNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBjb25zdCBtb2RhbCA9IGJ1dHRvbi5jbG9zZXN0KFwiLm1vZGFsXCIpO1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VNb2RhbChtb2RhbCkpO1xuICB9KTtcblxuICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMgZm9yIG1vZGFscyBhbmQgZm9ybSBzdWJtaXNzaW9uc1xuICBjb25zdCBhdmF0YXJNb2RhbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ0blwiKTtcbiAgY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbFwiKTtcbiAgY29uc3QgYXZhdGFyTW9kYWxGb3JtID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIiNlZGl0LWF2YXRhci1mb3JtXCIpO1xuICBhdmF0YXJNb2RhbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gb3Blbk1vZGFsKGF2YXRhck1vZGFsKSk7XG4gIGF2YXRhck1vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUF2YXRhclN1Ym1pdCk7XG5cbiAgY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnRuXCIpO1xuICBjb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LW1vZGFsXCIpO1xuICBjb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1wcm9maWxlLWZvcm1cIik7XG4gIGNvbnN0IG5hbWVJbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWUtaW5wdXRcIik7XG4gIGNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiKTtcbiAgZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcbiAgICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50O1xuICAgIHJlc2V0VmFsaWRhdGlvbihlZGl0UHJvZmlsZUZvcm0sIFtuYW1lSW5wdXQsIGRlc2NyaXB0aW9uSW5wdXRdLCBzZXR0aW5ncyk7XG4gICAgb3Blbk1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xuICB9KTtcbiAgZWRpdFByb2ZpbGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRWRpdFByb2ZpbGVTdWJtaXQpO1xuXG4gIGNvbnN0IGNhcmRNb2RhbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcbiAgY29uc3QgY2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLW1vZGFsXCIpO1xuICBjb25zdCBjYXJkTW9kYWxGb3JtID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1mb3JtXCIpO1xuICBjYXJkTW9kYWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG9wZW5Nb2RhbChjYXJkTW9kYWwpKTtcbiAgY2FyZE1vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpOyAvLyBFbnN1cmUgdGhpcyBmdW5jdGlvbiBpcyBkZWZpbmVkXG5cbiAgY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1tb2RhbFwiKTtcbiAgY29uc3QgZGVsZXRlRm9ybSA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gIGNvbnN0IGRlbGV0ZUNhbmNlbEJ1dHRvbiA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5fdHlwZV9jYW5jZWxcIik7XG4gIGRlbGV0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVEZWxldGVDYXJkU3VibWl0KTsgLy8gRW5zdXJlIHRoaXMgZnVuY3Rpb24gaXMgZGVmaW5lZFxuICBkZWxldGVDYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpKTtcblxuICAvLyBFbmFibGUgZm9ybSB2YWxpZGF0aW9uXG4gIGVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xufSk7XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgZ2V0QXBwSW5mbygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0VXNlckluZm8oKV0pO1xuICB9XG5cbiAgY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvciAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICByZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0LFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBlZGl0QXZhdGFySW5mbyhhdmF0YXIpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBjaGFuZ2VMaWtlU3RhdHVzKGlkLCBpc0xpa2VkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogaXNMaWtlZCA/IFwiREVMRVRFXCIgOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcGk7XG4iXSwibmFtZXMiOlsic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJjb25maWciLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImRpc2FibGVCdXR0b24iLCJidXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJhZGQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGFzSW52YWxpZElucHV0IiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImJ0biIsImRlZmF1bHRUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibG9hZGluZ1RleHQiLCJoYW5kbGVTdWJtaXQiLCJyZXF1ZXN0IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJzdWJtaXRCdG4iLCJzdWJtaXR0ZXIiLCJpbml0aWFsVGV4dCIsInRoZW4iLCJ0YXJnZXQiLCJyZXNldCIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIiwiZmluYWxseSIsImFwaSIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRBcHBJbmZvIiwiUHJvbWlzZSIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsInVybCIsIm9wdGlvbnMiLCJmZXRjaCIsImVkaXRVc2VySW5mbyIsIl9yZWYyIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0QXZhdGFySW5mbyIsImF2YXRhciIsImFkZENhcmQiLCJfcmVmMyIsImxpbmsiLCJkZWxldGVDYXJkIiwiY2hhbmdlTGlrZVN0YXR1cyIsImlzTGlrZWQiLCJhdXRob3JpemF0aW9uIiwiY2xvc2VNb2RhbE92ZXJsYXkiLCJjdXJyZW50VGFyZ2V0IiwiY2xvc2VNb2RhbCIsImNsb3NlTW9kYWxFc2MiLCJrZXkiLCJkb2N1bWVudCIsIm9wZW5Nb2RhbCIsIm1vZGFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW5kZXJDYXJkIiwiaXRlbSIsImNhcmRFbGVtZW50IiwiZGF0YSIsImNhcmRUZW1wbGF0ZSIsImNsb25lTm9kZSIsImNhcmROYW1lRWxlbWVudCIsImNhcmRJbWFnZUVsZW1lbnQiLCJjYXJkTGlrZUJ1dHRvbiIsImNhcmREZWxldGVCdXR0b24iLCJzcmMiLCJhbHQiLCJoYW5kbGVMaWtlIiwiX2lkIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUltYWdlQ2xpY2siLCJnZXRDYXJkRWxlbWVudCIsImNhcmRzTGlzdCIsImhhbmRsZUF2YXRhclN1Ym1pdCIsImF2YXRhcklucHV0IiwidmFsdWUiLCJhdmF0YXJEYXRhIiwicHJvZmlsZUltYWdlIiwiYXZhdGFyU3VibWl0QnV0dG9uIiwiYXZhdGFyTW9kYWwiLCJoYW5kbGVFZGl0UHJvZmlsZVN1Ym1pdCIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJ1c2VyRGF0YSIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwiZWRpdFByb2ZpbGVNb2RhbCIsImhhbmRsZUFkZENhcmRTdWJtaXQiLCJ0aXRsZUlucHV0IiwiaW1hZ2VJbnB1dCIsImNhcmREYXRhIiwiY2FyZFN1Ym1pdEJ1dHRvbiIsImNhcmRNb2RhbCIsImhhbmRsZURlbGV0ZUNhcmRTdWJtaXQiLCJzZWxlY3RlZENhcmRJZCIsInNlbGVjdGVkQ2FyZCIsImRlbGV0ZU1vZGFsIiwiY2xvc2VCdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbnRlbnQiLCJsb2ciLCJjYXJkcyIsInVzZXJzIiwiaW5uZXJIVE1MIiwicmV2ZXJzZSIsImZvckVhY2giLCJjYXJkIiwiYnV0dG9uIiwiY2xvc2VzdCIsImF2YXRhck1vZGFsQnV0dG9uIiwiYXZhdGFyTW9kYWxGb3JtIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJlZGl0UHJvZmlsZUZvcm0iLCJyZXNldFZhbGlkYXRpb24iLCJpbnB1dCIsImNhcmRNb2RhbEJ1dHRvbiIsImNhcmRNb2RhbEZvcm0iLCJkZWxldGVGb3JtIiwiZGVsZXRlQ2FuY2VsQnV0dG9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJBcnJheSIsImZyb20iLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsInZhbGlkYXRpb25NZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==